---
title: "Quartoã®Tips (Rç‰ˆ)"
subtitle: ""
description: ""
author: ""
date: "2024-07-24"
categories: [knitr, R, Quarto]
format:
    html:
        css:
          - styles_reset.css
          - styles_temp.css
---

R (`knitr`)ç‰¹æœ‰ã®è¨­å®šãªã©ã«ã¤ã„ã¦ç´¹ä»‹ã™ã‚‹ã€‚

# Chunk options
## `class-output`, `class-warning`, `class-message`, `class-error`

Chunkã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ç¾ã‚Œã‚‹æ–‡å­—åˆ—ã‚’è¡¨ç¤ºã™ã‚‹CSSã‚’æŒ‡å®šã™ã‚‹ã€‚

```{.css filename="styles.css"}
{{< include styles_temp.css >}}
```

```{r}
#| echo: fenced
#| class-output: stdout
print("Hello")
```

```{r}
#| echo: fenced
#| error: true
#| class-error: stderr
stop("This is an error.")
```

## `eval` 

`eval`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«æ¸¡ã™çœŸå½å€¤ï¼ˆ`true` or `false`ï¼‰ã‚’Rã®å¼ã®è©•ä¾¡çµæœã«å¤‰æ›´ã™ã‚‹ã€‚

```{r}
#| echo: fenced
#| eval: !expr 1 > 0
print("evaluated")
```

```{r}
#| echo: fenced
#| eval: !expr 1 > 2
print("not evaluated")
```

ãŸã ã—å¼ãŒ`!`ã‹ã‚‰å§‹ã¾ã£ã¦ã„ã‚‹å ´åˆã¯å¼•ç”¨ç¬¦ã§å›²ã‚€å¿…è¦ãŒã‚ã‚‹ã€‚

```{{r}}
#| eval: !expr !FALSE
# ğŸ‘†ã“ã‚Œã¯ãƒ€ãƒ¡âŒ
```

```{r}
#| echo: fenced
#| eval: !expr "!FALSE"
# ğŸ‘†ã“ã‚Œã¯å¤§ä¸ˆå¤«â­•ï¸
print("evaluated")
```

å‚è€ƒURLï¼š[ãƒ¡ãƒ¢ï¼šQuartoã§ #| ã‚’ä½¿ã£ã¦ãƒãƒ£ãƒ³ã‚¯å†…ã«ãƒãƒ£ãƒ³ã‚¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ›¸ãæ™‚ã« !expr ãŒã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸï¼ˆãŒã‚‚ã†ç›´ã£ã¦ã„ã‚‹ï¼‰](https://notchained.hatenablog.com/entry/2022/04/30/214805)


## `fig-width`, `fig-height`

å‡ºåŠ›ã™ã‚‹å›³ã®ç‰©ç†çš„ãªï¼ˆè¡¨ç¤ºä¸Šã§ã¯ãªã„ï¼‰å¤§ãã•ã‚’åˆ¶å¾¡ã™ã‚‹ã€‚
å˜ä½ãŒinchãªã®ã§mmã«æ›ç®—ã™ã‚‹ã«ã¯1 inch = 25.4 mmãªã®ã§25.4ã§å‰²ã‚‹ã€‚
ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãå‡ºã™å›³ã¨è¦‹ãŸç›®ã‚’æƒãˆãŸã„æ™‚ã«ä½¿ãˆã‚‹ã€‚

```{r}
library(ggplot2)
gp <-
  ggplot(iris, aes(Sepal.Length, Sepal.Width)) +
  geom_point(aes(color = Species)) +
  theme_minimal()
```

::::{.columns}
:::{.column}
```{r}
#| echo: fenced
#| fig-width: !expr "150/25.4"
#| fig-height: !expr "100/25.4" 
# å¹… 150 mm é«˜ã• 100 mm ã®ãƒ—ãƒ­ãƒƒãƒˆã¨ã—ã¦å‡ºåŠ›
gp
```
:::
:::{.column}
```{r}
#| echo: fenced
#| fig-width: !expr "300/25.4"
#| fig-height: !expr "200/25.4" 
# å¹… 300 mm é«˜ã• 200 mm ã®ãƒ—ãƒ­ãƒƒãƒˆã¨ã—ã¦å‡ºåŠ›
gp
```
:::
::::

```{r}
# åŒã˜ã‚µã‚¤ã‚ºã§ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã—ãŸãƒ—ãƒ­ãƒƒãƒˆã¨è¦‹æ „ãˆãŒåŒã˜ã«ãªã‚‹ã€‚
ggsave("output.png", gp, width = 150, height = 100, units = "mm")
```

![](output.png){width=50%}

# Working directory

`setwd()`ã§working directoryã‚’å¤‰æ›´ã—ã¦ã‚‚ã€chunkã”ã¨ã«working directoryã¯ãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã€‚

```{r}
setwd("..")
getwd()
```

```{r}
getwd()
```

# Sessioninfo

```{r}
sessionInfo()
```